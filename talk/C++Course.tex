\documentclass[compress]{beamer}
\usetheme{Warsaw}
\useoutertheme{split}

\input{setup}

% setup for the basic/advanced course switch
% create a new latex if called basic (false by default)
\newif\ifbasic
%\basictrue % uncomment to make basic true
\IfFileExists{onlybasics.tex}{\input{onlybasics}}{}

% create a comment environment advanced. depending on the value of basic, we exclude or include it.
\ifbasic
  \excludecomment{advanced}
\else
  % advanced slides have a different structure color
  \specialcomment{advanced}{
    \setbeamercolor{structure}{fg=beamer@blendedblue!40!violet}
  }{
    \setbeamercolor{structure}{fg=beamer@blendedblue}
  }
\fi

\newunicodechar{σ}{$\sigma$}
\newunicodechar{µ}{$\mu$}

\begin{document}

\showboxdepth=\maxdimen
\showboxbreadth=\maxdimen

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}
  \frametitle{Foreword}
  \begin{block}{What this course is not}
    \begin{itemize}
    \item It is not for absolute beginners
    \item It is not for experts
    \item It is not complete at all (would need 3 weeks...)
      \begin{itemize}
      \item although is it already too long for the time we have
      \item \inserttotalframenumber{} slides, \insertpresentationendpage{} pages, \total{ex@counter} exercises...
      \end{itemize}
    \end{itemize}
  \end{block}
  \begin{block}{How I see it}
    \begin{description}
    \item[Adaptative] pick what you want
    \item[Interactive] tell me what to skip/insist on
    \item[Practical] let's spend time on real code
    \end{description}
  \end{block}
  \begin{block}{Where to find latest version ?}
    \begin{itemize}
    \item full sources at {\scriptsize \url{https://github.com/hsf-training/cpluspluscourse}}
    \item latest pdf under {\scriptsize \href{https://github.com/hsf-training/cpluspluscourse/raw/download/talk/C++Course\_full.pdf}{raw/download/talk/C++Course\_full.pdf}}
    \end{itemize}
  \end{block}
\end{frame}


\begin{frame}
  \frametitle{More courses}
  \begin{block}{The HSF Software Training Center}
    A set of course modules on more software engineering aspects prepared from within the HEP community
    \begin{itemize}
      \item Unix shell
      \item Python
      \item Version control (git, gitlab, github)
      \item ...
    \end{itemize}
    {\small \url{https://hepsoftwarefoundation.org/training/curriculum.html}}
  \end{block}

\end{frame}

\begin{frame}
  \frametitle{Outline}
  \begin{multicols}{2}
    \tableofcontents[sectionstyle=show,subsectionstyle=hide]
  \end{multicols}
\end{frame}

\begin{frame}
  \frametitle{Detailed outline}
  %\vspace{-0.5cm}
  \begin{tiny}
    \begin{multicols}{3}
      \tableofcontents[sectionstyle=show,subsectionstyle=show]
    \end{multicols}
  \end{tiny}
\end{frame}

\section[Intro]{History and goals}
\input{introduction/history}
\input{introduction/goals}

\section[base]{Language basics}
\input{basicconcepts/coresyntax}
\input{basicconcepts/arrayspointers}
\input{basicconcepts/scopesnamespaces}
\input{basicconcepts/classenum}
\input{basicconcepts/references}
\input{basicconcepts/functions}
\input{basicconcepts/operators}
\input{basicconcepts/control}
\input{basicconcepts/headersinterfaces}
\input{basicconcepts/auto}
\begin{advanced}
\input{basicconcepts/inline}
\input{basicconcepts/assert}
\end{advanced}

\section[OO]{Object orientation (OO)}
\input{objectorientation/objectsclasses}
\input{objectorientation/inheritance}
\input{objectorientation/constructors}
\input{objectorientation/static}
\input{objectorientation/allocations}
\input{objectorientation/advancedoo}
\begin{advanced}
\input{objectorientation/typecasting}
\end{advanced}
\input{objectorientation/operators}
\input{objectorientation/functors}
\begin{advanced}
  \input{objectorientation/adl}
\end{advanced}

\section[More]{Core modern \cpp}
\input{morelanguage/constness}
\begin{advanced}
  \input{morelanguage/constexpr}
\end{advanced}

\input{morelanguage/exceptions}
\begin{advanced}
  \input{morelanguage/move}
  \input{morelanguage/copyelision}
\end{advanced}
\input{morelanguage/templates}
\input{morelanguage/lambda}
\input{morelanguage/stl}
\begin{advanced}
  \input{morelanguage/morestl}
  \input{morelanguage/random}
  \input{morelanguage/ranges}
\end{advanced}
\input{morelanguage/raii}
\begin{advanced}
  \input{morelanguage/initialization}
\end{advanced}

\begin{advanced}
  \section[exp]{Expert \cpp}
  \input{expert/variadictemplate}
  \input{expert/perfectforwarding}
  \input{expert/sfinae}
  \input{expert/cpp20concepts}
  \input{expert/cpp20spaceship}
  \input{expert/modules}
  \input{expert/coroutines}
\end{advanced}

\section[Tool]{Useful tools}
\input{tools/editors}
\input{tools/vcs}
\input{tools/formatting}
\input{tools/compiling}
\input{tools/webtools}
\input{tools/debugging}
\begin{advanced}
  \input{tools/sanitizers}
  \input{tools/valgrind}
  \input{tools/staticanalysis}
  \input{tools/profiling}
  \input{tools/doxygen}

  \section[conc]{Concurrency}
  \input{concurrency/threadsasync}
  \input{concurrency/mutexes}
  \input{concurrency/atomic}
  \input{concurrency/condition}

  \section[py]{\cpp and python}
  \input{python/modulewriting}
  \input{python/marryingcandcpp}
  \input{python/ctypes}
  \input{python/cppyy}
\end{advanced}

\begin{frame}
  \frametitle{This is the end}
  \begin{center}
    \Huge Questions ?\\
    \vspace{.5cm}
    \tiny \url{https://github.com/hsf-training/cpluspluscourse/raw/download/talk/C++Course\_full.pdf}\\
    \tiny \url{https://github.com/hsf-training/cpluspluscourse}
  \end{center}
\end{frame}

\section*{Index}

\begin{frame}
  \frametitle{Index of Good Practices}
  \listofgoodpractices
\end{frame}

\begin{frame}
  \frametitle{Index of Exercises}
  \listofexercises
\end{frame}

\end{document}
